# ========================================
# API Gateway Environment Variables
# ========================================

# ========================================
# BASIC CONFIGURATION
# ========================================

# Environment
NODE_ENV=development

# Server Configuration
PORT=3001

# ========================================
# CORS CONFIGURATION
# ========================================

# CORS Origins (comma-separated)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000,http://127.0.0.1:3001

# ========================================
# SERVICE URLs
# ========================================

# Auth Service
AUTH_SERVICE_URL=http://localhost:3002
AUTH_SERVICE_TIMEOUT=30000
AUTH_SERVICE_RETRIES=3

# User Service (optional)
USER_SERVICE_URL=http://localhost:3003
USER_SERVICE_TIMEOUT=30000
USER_SERVICE_RETRIES=3



# ========================================
# RATE LIMITING CONFIGURATION
# ========================================

# Enable/Disable Rate Limiting
RATE_LIMIT_ENABLED=true

# General Rate Limiting
RATE_LIMIT_GENERAL_WINDOW_MS=60000
RATE_LIMIT_GENERAL_MAX_REQUESTS=100

# Auth Rate Limiting
RATE_LIMIT_AUTH_WINDOW_MS=60000
RATE_LIMIT_AUTH_MAX_REQUESTS=10

# Validate Session Rate Limiting (ผ่อนคลายกว่า auth)
RATE_LIMIT_VALIDATE_SESSION_WINDOW_MS=60000
RATE_LIMIT_VALIDATE_SESSION_MAX_REQUESTS=30

# Admin Rate Limiting
RATE_LIMIT_ADMIN_WINDOW_MS=60000
RATE_LIMIT_ADMIN_MAX_REQUESTS=10

# Slow Down Configuration
RATE_LIMIT_SLOW_DOWN_WINDOW_MS=900000
RATE_LIMIT_SLOW_DOWN_DELAY_AFTER=50
RATE_LIMIT_SLOW_DOWN_DELAY_MS=500

# ========================================
# CIRCUIT BREAKER CONFIGURATION
# ========================================

# Circuit Breaker Settings
CIRCUIT_BREAKER_TIMEOUT=10000
CIRCUIT_BREAKER_ERROR_THRESHOLD=50
CIRCUIT_BREAKER_RESET_TIMEOUT=60000
CIRCUIT_BREAKER_VOLUME_THRESHOLD=10

# ========================================
# SECURITY CONFIGURATION
# ========================================

# Security Features
HELMET_ENABLED=true
COMPRESSION_ENABLED=true

# ========================================
# MONITORING CONFIGURATION
# ========================================

# Enable/Disable Monitoring
MONITORING_ENABLED=true

# Monitoring Paths
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health
STATUS_MONITOR_PATH=/status

# ========================================
# LOGGING CONFIGURATION
# ========================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Log Format (json, simple)
LOG_FORMAT=json

# Log Transports (console, file)
LOG_TRANSPORTS=console,file

# Log File Configuration
LOG_FILENAME=logs/api-gateway.log
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ========================================
# REDIS CONFIGURATION (Optional)
# ========================================

# Redis URL for distributed rate limiting and caching
# REDIS_URL=redis://localhost:6379

# ========================================
# JWT CONFIGURATION (Optional)
# ========================================

# JWT Secret for token validation
# JWT_SECRET=your-jwt-secret-here

# ========================================
# DEVELOPMENT CONFIGURATION
# ========================================

# Debug Mode
DEBUG=false

# ========================================
# PRODUCTION CONFIGURATION
# ========================================

# Production Settings (uncomment for production)
# NODE_ENV=production
# LOG_LEVEL=warn
# MONITORING_ENABLED=true
# RATE_LIMIT_ENABLED=true
# HELMET_ENABLED=true
# COMPRESSION_ENABLED=true 